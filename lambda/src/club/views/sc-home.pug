extends sc-layout-bulma
include mixins/_themeInfo


block content
    section.hero(style="background-color: #fafafa;")
        .hero-body
            .container.has-text-centered
                h1.title.is-spaced Just what the heck is storyclub?
                h2.subtitle Make creative writing a regular habit. The Story Club community writes and shares bite sized reads every week
    if theme
        section.section
            .container
                .has-text-centered
                    p
                        span.tag.is-primary latest challenge
                    p
                        strong #{theme.themeText}
                    p.has-text-centered Must include
                        ul
                            each thing in theme.things
                                li #{thing}
                    p Get 'er done by #{theme.deadline}

    section.section(style="background-color: #fafafa;")
        .container.has-text-centered
            h1.title How It Works
            .level  
                span.level-item Write it
                span.level-item Read it
                span.level-item 
                    strong And feedback!
    
            p Be part of a growing and completely non-influential community.



    if comments
        section.section
            .container
                .has-text-centered  
                    h1.title(style="padding:20px") Recent feedback
                
        
                each comment in comments        
                    .box
                        .header
                            span.author #{comment.userId}
                            span â€¢
                            span.when #{comment.when}                    
                            span.story  on 
                                a(href=`${siteRoot}/${comment.story.path}`) #{comment.story.title}
                        .body !{comment.text}                        
                    
block code
    script.
        for(const span of document.querySelectorAll("span.when"))
        {
            
            console.log("#" + span.innerText.trim() + "#");
            span.innerText = moment(span.innerText.trim()).fromNow();
        }
