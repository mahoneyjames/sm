/*
    

*/
const LogFactory = require("./log-factory");
module.exports = function(category){
    

  //TODO - this isn't quite right yet. I want a way to log dependancies, and put them against a "thing", not just the aws request id. 
  //(If we are processing queue messages we might have multiple messages processed for the *same* aws request id)
   // console.log("logger" + LogFactory);
    const decoratedLogger = {category};
    
    decoratedLogger.info = (message, ...params)=>{
      //  console.log("info" + LogFactory);
        //LogFactory.writeRecord("blah");
        LogFactory.getLogRecord(category, null, "info",false).message(message, ...params).writeLogRecord();}
    decoratedLogger.warn = (message, ...params)=>LogFactory.getLogRecord(category, null, "warn",false).message(message, ...params).writeLogRecord();
    decoratedLogger.debug = (message, ...params)=>LogFactory.getLogRecord(category, null, "debug",false).message(message, ...params).writeLogRecord();
    decoratedLogger.log = (level)=> LogFactory.getLogRecord(category, null, level,false);
    decoratedLogger.batch = (label, level)=>LogFactory.getLogRecord(category, label, level, true);
    decoratedLogger.track = (label, level)=>LogFactory.getLogRecord(category, label, level, true);
    
    return decoratedLogger;
}